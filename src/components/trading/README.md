# Trading components

کامپوننت‌های خاص دامنه معاملاتی باید الزامات عملکردی و بلادرنگ را رعایت کنند.

## TradeTicket
- حالت‌ها: Market / Limit / Stop، خطای ولیدیشن، Double-submit lock، 2FA.
- ورودی‌ها: حجم، قیمت، نوع سفارش، Time-in-Force، اهرم (اختیاری).
- خروجی‌ها: کارمزد و مبلغ نهایی لحظه‌ای، پیام خطا/موفقیت، کلیدهای میانبر (B/S/Ctrl+Enter).
- حالت موبایل: کشویی (Drawer) با CTA چسبان، Summary بالا.

## OrderBook
- Virtualization با react-window؛ به‌روزرسانی حداکثر 10fps.
- ردیف فشرده برای Pro و حالت خلاصه برای موبایل.
- Highlight تغییر قیمت/حجم با انیمیشن سبک (transition-base).

## Watchlist
- جست‌وجوی نماد، فیلتر بازار، Batch add/remove.
- اسپارک‌لاین کوتاه + تغییر درصد رنگی (سبز/قرمز با کوررنگی‌پسند).
- Empty/Error/Skeleton پوشش داده شود.

## ChartPanel
- کندل + حجم + اندیکاتور پایه (MA/RSI)، Crosshair، Zoom/Pan.
- مارکر سفارش‌ها و Context menu (ویرایش/لغو) با محافظت 2FA در عملیات حساس.
- نرخ رندر محدود و استفاده از Canvas/WebGL در سناریوی داده سنگین.

## Positions/P&L
- نمایش سود/ضرر روزانه و تحقق‌نیافته، فیلتر تاریخ/نماد.
- ردیف کلیک‌پذیر با جزئیات در Drawer/Modal.

## الزامات عمومی
- هر کامپوننت حالت اتصال (WebSocket up/down) و دکمه Reconnect را در UI نشان دهد.
- Prop API و تعاملات کیبورد/ماوس باید در فایل مستندات همراه کامپوننت درج شود.
